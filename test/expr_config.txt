%header
%{
  #include "test/expr.hpp"
%}

%source
%{
  char c[] = "Just for testing";
%}

%tokens
INT -> int "[1-9][0-9]*" %{ stoi(string(str)) %}
PLUS "\+"
STAR "\*"

%prec
PLUS %left
STAR %left

%grammar
Expr -> Expr* %{ delete #0 %}
Expr := INT            %{ new EInt(#0) %}
      | Expr PLUS Expr %{ new EPlus(#0, #2) %}
      | Expr STAR Expr %{ new ETimes(#0, #2) %}
